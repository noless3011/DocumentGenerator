<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>GoJS Diagram in Electron</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden; /* Prevent scrollbars */
      }
      #myDiagramDiv {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="myDiagramDiv"></div>

    <!-- Include GoJS library -->

    <script src="../node_modules/gojs/release/go.js"></script>

    <script>
      // JavaScript code for GoJS diagram will go here
      function initDiagram() {
        if (window.goSamples) goSamples(); // If using GoJS samples for testing - remove for production

        const $ = go.GraphObject.make; // for conciseness in defining templates

        const myDiagram = $(
          go.Diagram,
          "myDiagramDiv", // must name or refer to the DIV HTML element
          {
            initialContentAlignment: go.Spot.Center, // center Diagram contents
            "undoManager.isEnabled": true, // enable Ctrl-Z to undo and Ctrl-Y to redo
          }
        );

        // Define node template
        myDiagram.nodeTemplate = $(
          go.Node,
          "Auto", // the Shape will go around the TextBlock
          $(go.Shape, "RoundedRectangle", {
            strokeWidth: 0,
            fill: "lightblue",
          }),
          $(
            go.TextBlock,
            { margin: 8, editable: true }, // some padding around the text
            new go.Binding("text").makeTwoWay()
          )
        );

        // Define link template
        myDiagram.linkTemplate = $(
          go.Link,
          { routing: go.Link.Orthogonal, corner: 5 },
          $(go.Shape, { strokeWidth: 3, stroke: "gray" }),
          $(go.Shape, { toArrow: "Standard", stroke: "gray" })
        );

        // Create model data
        const model = new go.GraphLinksModel(
          [
            { key: 1, text: "Alpha" },
            { key: 2, text: "Beta" },
            { key: 3, text: "Gamma" },
          ],
          [
            { from: 1, to: 2 },
            { from: 2, to: 3 },
            { from: 3, to: 1 },
          ]
        );

        myDiagram.model = model;
      }

      window.onload = initDiagram; // Initialize diagram when window loads
    </script>
  </body>
</html>
